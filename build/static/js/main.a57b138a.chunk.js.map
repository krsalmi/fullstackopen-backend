{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Notification.js","components/Error.js","components/ShowPerson.js","components/ShowPeople.js","components/FilterPeople.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","newName","setNewName","setNewNumber","value","onChange","event","target","type","Notification","message","className","Error","errorMessage","ShowPerson","name","number","deletePerson","onClick","ShowPeople","filtered","map","person","FilterPeople","setFilter","persons","filter","toLowerCase","includes","App","useState","setPersons","newNumber","setMessage","setErrorMessage","useEffect","phoneService","people","onSubmit","preventDefault","phoneBookObject","find","window","confirm","human","changedInfo","returnedPerson","p","setTimeout","catch","error","alteredPhone","addedPeople","concat","console","log","reducedList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a57b138a.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteObject = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deleteObject }","import React from 'react'\n\nconst PersonForm = ({newName, setNewName, setNewNumber}) => {\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value)\n\t}\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t}\n\treturn (\n\t\t<>\n\t\t<h2>add a new</h2>\n\t\t\t<div>\n\t\t\t\t\tname: <input value={newName} onChange={handleNameChange}/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\tnumber: <input onChange={handleNumberChange}/>\n\t\t\t</div>\n\t\t\t<div>\n          <button type=\"submit\">add</button>\n        </div>\n\t\t</>\n\t)\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n\n","import React from 'react'\n\nconst Error = ({ errorMessage }) => {\n  if (errorMessage === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {errorMessage}\n    </div>\n  )\n}\n\nexport default Error\n\n\n","import React from 'react'\n\nconst ShowPerson = ({name, number, id, deletePerson}) => {\n\treturn (\n\t\t<div>\n\t\t\t{name} {number}<button onClick={() => \n\t\t\t\tdeletePerson(id, name)\n\t\t\t\t\t}>delete</button>\n\t\t</div>\n\t)}\n\nexport default ShowPerson\n","import React from 'react'\nimport ShowPerson from './ShowPerson'\n\nconst ShowPeople = ({filtered, deletePerson}) => {\n\treturn (\n\t\t<div>\n\t\t\t{filtered.map(person =>\n\t\t\t\t<ShowPerson key={person.name} name={person.name} number={person.number} id={person.id} deletePerson={deletePerson}/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default ShowPeople\n","import React from 'react'\n\nconst FilterPeople = ({setFilter, persons}) => {\n\tconst filterNames = (event) => {\n\t\tif (event.target.value !== '')\n\t\t\tsetFilter(persons.filter(person => \n\t\t\t\tperson.name.toLowerCase().includes(event.target.value.toLowerCase())))\n\t\telse\n\t\t\t\tsetFilter(persons)\n\t\t}\n\treturn (\n\t<div>\n          filter shown with <input onChange={filterNames}/>\n  </div>\n\t)\n}\n\nexport default FilterPeople\n","import React, { useState, useEffect } from 'react'\nimport phoneService from './services/persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport ShowPeople from './components/ShowPeople'\nimport FilterPeople from './components/FilterPeople'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n\tconst [ newNumber, setNewNumber ] = useState('')\n\tconst [ filtered, setFilter ] = useState(persons)\n\tconst [ message, setMessage] = useState(null)\n\tconst [ errorMessage, setErrorMessage] = useState(null)\n\n\tuseEffect(() => {\n    \n    phoneService\n\t\t\t.getAll()\n\t\t\t.then(people => {\n\t\t\t\tsetPersons(people)\n\t\t\t\tsetFilter(people)\n\t\t\t})\n  }, [])\n\n\tconst deletePerson = (id, name) => {\n\t\tif (window.confirm(`Delete ${name}?`)) {\n\t\t\tphoneService\n\t\t\t.deleteObject(id)\n\t\t\t.then(()=> {\n\t\t\t\tconst reducedList = persons.filter(person => person.id !== id)\n\t\t\t\tsetFilter(reducedList)\n\t\t\t\tsetPersons(reducedList)\n\t\t\t\tsetMessage(\n\t\t\t\t\t`Deleted ${name}`\n\t\t\t\t)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null)\n\t\t\t\t}, 5000)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tsetErrorMessage(\n          `Information of ${name} was already removed from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n\t\t\t})\n\t\t}\n\t}\n\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault()\n\t\tconst phoneBookObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t}\n\t\tif (persons.find(person => person.name === newName)) {\n\t\t\tif (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n\t\t\t\t\tconst human = persons.find(person => person.name === newName)\n\t\t\t\t\tconst changedInfo = { ...human, number: newNumber }\n\t\t\t\t\tphoneService\n\t\t\t\t\t.update(human.id, changedInfo)\n\t\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\t\tsetPersons(persons.map(p => p.name !== newName ? p : returnedPerson))\n\t\t\t\t\t\tsetFilter(persons.map(p => p.name !== newName ? p : returnedPerson))\n\t\t\t\t\t\tsetMessage(\n\t\t\t\t\t\t\t`Updated ${newName}'s number`\n\t\t\t\t\t\t)\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetMessage(null)\n\t\t\t\t\t\t}, 5000)\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tsetErrorMessage(\n\t\t\t\t\t\t\t`Information of ${newName} was already removed from server`\n\t\t\t\t\t\t)\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetErrorMessage(null)\n\t\t\t\t\t\t}, 5000)\n\t\t\t\t})\n\t\t\t}\n\t\t}else {\n\t\t\t\n\t\t\tphoneService\n\t\t\t.create(phoneBookObject)\n\t\t\t\t.then(alteredPhone => {\n\t\t\t\t\tconst addedPeople = persons.concat(phoneBookObject)\n\t\t\t\t\tsetPersons(addedPeople)\n\t\t\t\t\tsetFilter(addedPeople)\n\t\t\t\t\tsetMessage(\n\t\t\t\t\t\t`Added ${newName}`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null)\n\t\t\t\t\t}, 5000)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.log(error.response.data)\n\t\t\t\t\tsetErrorMessage(\n\t\t\t\t\t\terror.response.data\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null)\n\t\t\t\t\t}, 5000)\n\t\t\t\t})\n\t\t}\n\t}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\t\t\t<Notification message={message} />\n\t\t\t<Error errorMessage={errorMessage} />\n      <form onSubmit={addPerson}>\n\t\t\t\t<FilterPeople setFilter={setFilter} persons={persons}/>\n        <PersonForm newName={newName} setNewName={setNewName} setNewNumber={setNewNumber}/>\n      </form>\n      <h2>Numbers</h2>\n\t\t\t<ShowPeople filtered={filtered} deletePerson={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}