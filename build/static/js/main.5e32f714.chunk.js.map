{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Notification.js","components/Error.js","components/ShowPerson.js","components/ShowPeople.js","components/FilterPeople.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","newName","setNewName","setNewNumber","value","onChange","event","target","type","Notification","message","className","Error","errorMessage","ShowPerson","name","number","deletePerson","onClick","ShowPeople","filtered","map","person","FilterPeople","setFilter","persons","filter","toLowerCase","includes","App","useState","setPersons","newNumber","setMessage","setErrorMessage","useEffect","phoneService","people","onSubmit","preventDefault","phoneBookObject","find","window","confirm","human","changedInfo","returnedPerson","p","setTimeout","catch","error","alteredPhone","addedPeople","concat","console","log","reducedList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5e32f714.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteObject = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deleteObject }","import React from 'react'\n\nconst PersonForm = ({newName, setNewName, setNewNumber}) => {\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  return (\n    <>\n    <h2>add a new</h2>\n      <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n      </div>\n      <div>\n      number: <input onChange={handleNumberChange}/>\n      </div>\n      <div>\n          <button type=\"submit\">add</button>\n        </div>\n    </>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n\n","import React from 'react'\n\nconst Error = ({ errorMessage }) => {\n  if (errorMessage === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {errorMessage}\n    </div>\n  )\n}\n\nexport default Error\n\n\n","import React from 'react'\n\nconst ShowPerson = ({name, number, id, deletePerson}) => {\n  return (\n    <div>\n      {name} {number}<button onClick={() => \n        deletePerson(id, name)\n          }>delete</button>\n    </div>\n  )\n}\n\nexport default ShowPerson\n","import React from 'react'\nimport ShowPerson from './ShowPerson'\n\nconst ShowPeople = ({filtered, deletePerson}) => {\n  return (\n    <div>\n      {filtered.map(person =>\n        <ShowPerson key={person.name} name={person.name} number={person.number} id={person.id} deletePerson={deletePerson}/>\n      )}\n    </div>\n  )\n}\n\nexport default ShowPeople\n","import React from 'react'\n\nconst FilterPeople = ({setFilter, persons}) => {\n  const filterNames = (event) => {\n    if (event.target.value !== '')\n      setFilter(persons.filter(person => \n        person.name.toLowerCase().includes(event.target.value.toLowerCase())))\n    else\n        setFilter(persons)\n    }\n  return (\n  <div>\n          filter shown with <input onChange={filterNames}/>\n  </div>\n  )\n}\n\nexport default FilterPeople\n","import React, { useState, useEffect } from 'react'\nimport phoneService from './services/persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport ShowPeople from './components/ShowPeople'\nimport FilterPeople from './components/FilterPeople'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filtered, setFilter ] = useState(persons)\n  const [ message, setMessage] = useState(null)\n  const [ errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    \n    phoneService\n      .getAll()\n      .then(people => {\n        setPersons(people)\n        setFilter(people)\n      })\n  }, [])\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      phoneService\n      .deleteObject(id)\n      .then(()=> {\n        const reducedList = persons.filter(person => person.id !== id)\n        setFilter(reducedList)\n        setPersons(reducedList)\n        setMessage(\n          `Deleted ${name}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setErrorMessage(\n          `Information of ${name} was already removed from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const phoneBookObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if (persons.find(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n          const human = persons.find(person => person.name === newName)\n          const changedInfo = { ...human, number: newNumber }\n          phoneService\n          .update(human.id, changedInfo)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.name !== newName ? p : returnedPerson))\n            setFilter(persons.map(p => p.name !== newName ? p : returnedPerson))\n            setMessage(\n              `Updated ${newName}'s number`\n            )\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of ${newName} was already removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n        })\n      }\n    }else {\n      \n      phoneService\n      .create(phoneBookObject)\n        .then(alteredPhone => {\n          const addedPeople = persons.concat(phoneBookObject)\n          setPersons(addedPeople)\n          setFilter(addedPeople)\n          setMessage(\n            `Added ${newName}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setErrorMessage(\n            'Problem adding person. Name must be unique, minimum of 3 characters long. Number must be at least 8 numbers long.'\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Error errorMessage={errorMessage} />\n      <form onSubmit={addPerson}>\n        <FilterPeople setFilter={setFilter} persons={persons}/>\n        <PersonForm newName={newName} setNewName={setNewName} setNewNumber={setNewNumber}/>\n      </form>\n      <h2>Numbers</h2>\n      <ShowPeople filtered={filtered} deletePerson={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}